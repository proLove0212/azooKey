# Keyboard Layout Behavior

Keyboard Extensionのレイアウト決定で難しいところは、キーボードの領域がなかなか決まらないことです。特に以下の条件でよくバグります。

* デバイスの回転
* フローティングモード

特に、デバイスの回転はiOSがアップデートされるたびにぶっ壊れるので、辛いです。

## レイアウトの決定

azooKeyは「縦・横」「iPhone・iPad」で4パターンのレイアウトを持っています。

どの場合でも、まず最初にキーボードのエリアの幅を取得します。幅とレイアウトの情報からキーボードの高さを決定し、それに合わせてキーなどのコンポーネントのサイズを決定していきます。
