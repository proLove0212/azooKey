# ViewController Memory Leak

KeyboardViewControllerのメモリリークの問題があります。iOS 16.2現在解決していません。

## 概要

キーボードを開くと、KeyboardViewControllerのインスタンスが生成されます。インスタンスはコンテキストごとに保持されるので、複数生成されることがあります。

それ自体は問題ないのですが、もはやアクセスできなくなったキーボードのインスタンスが破棄されない問題があります。このため、azooKeyを利用し続けると不要なキーボードのインスタンスが蓄積され、動作に悪影響を及ぼします。

## 対処

アドホックな対処を行っています。具体的には、2点です。

1. `KeyboardViewController`以外はできる限りstaticなインスタンスを用いることで、`KeyboardViewController`が複数生成されてもメモリへの影響が小さくなるようにしている
1. キーボードインスタンスを手動でカウントし、一定数以上に達した場合、インスタンスのロード時にアプリを即クラッシュさせる（これによって強制的にメモリが解放される）

